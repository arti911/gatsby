{"version":3,"sources":["webpack:///./src/components/ArticlesList.js","webpack:///./src/pages/index.js"],"names":["ArticlesList","articles","useState","countArticles","setCountArticles","Meta","Card","gutter","slice","map","article","className","xs","md","lg","xl","key","id","hoverable","cover","alt","src","to","slug","title","description","teaser","style","textAlign","length","onClick","type","getArticles","gql","IndexPage","props","data","news","articlesList","setArticles","useQuery","loading","error","message","newArticles"],"mappings":"oQAsCeA,EAlCM,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACOC,mBAAS,GAA7CC,EAD6B,KACdC,EADc,KAE7BC,EAASC,IAATD,KAIR,OACE,oCACE,kBAAC,IAAD,CAAKE,OAAQ,CAAC,GAAI,KACfN,EAASO,MAAM,EAAGL,GAAeM,KAAI,SAAAC,GAAO,OAEzC,kBAAC,IAAD,CAAKC,UAAU,aAAaC,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGC,IAAKN,EAAQO,IACrE,kBAAC,IAAD,CACIC,WAAS,EACTC,MAAO,yBAAKC,IAAI,UAAUC,IAAI,gEAEhC,kBAAC,OAAD,CAAMC,GAAE,IAAMZ,EAAQa,MAASb,EAAQc,OACvC,kBAACnB,EAAD,CAAMoB,YAAaf,EAAQgB,eAMrC,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKf,UAAU,aAAaC,GAAI,GAAIe,MAAO,CAAEC,UAAW,WAEpD3B,EAAS4B,OAAS1B,EAAgB,kBAAC,IAAD,CAAQ2B,QAtBrC,kBAAM1B,EAAiBD,EAAgB,IAsBe4B,KAAK,WAA9B,iBAAiE,S,gOCrB/G,IAAMC,EAAcC,IAAH,KAWJhC,EAAQ,YAmCNiC,UAtBG,SAACC,GAAW,IACZlC,EAAekC,EAAMC,KAA7BC,KAAQpC,SADW,EAESC,mBAASD,GAAtCqC,EAFoB,KAENC,EAFM,OAGMC,YAASR,GAAlCS,EAHmB,EAGnBA,QAASC,EAHU,EAGVA,MAAON,EAHG,EAGHA,KAExB,GAAIK,EAAS,OAAO,uCACpB,GAAIC,EAAO,MAAM,UAAWA,EAAMC,QAElC,IAAMC,EAAcR,EAAKnC,SAMzB,OAJIqC,EAAaT,SAAWe,EAAYf,QACtCU,EAAYK,GAIZ,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKpB,MAAM,SACX,kBAAC,EAAD,CAAcvB,SAAUqC,O","file":"component---src-pages-index-js-023788b57c5b71870f02.js","sourcesContent":["import React, { useState } from 'react'\r\nimport { Card, Row, Col, Button } from 'antd'\r\nimport { Link } from \"gatsby\"\r\n\r\nconst ArticlesList = ({ articles }) => {\r\n  const [ countArticles, setCountArticles ] = useState(8)\r\n  const { Meta } = Card;\r\n\r\n  const onLoad = () => setCountArticles(countArticles + 4)\r\n\r\n  return (\r\n    <>\r\n      <Row gutter={[16, 24]}>\r\n        {articles.slice(0, countArticles).map(article =>\r\n          (\r\n            <Col className=\"gutter-row\" xs={24} md={12} lg={8} xl={6} key={article.id}>\r\n              <Card\r\n                  hoverable\r\n                  cover={<img alt=\"example\" src=\"https://os.alipayobjects.com/rmsportal/QBnOOoLaAfKPirc.png\" />}\r\n              >\r\n                <Link to={`/${article.slug}`}>{article.title}</Link>\r\n                <Meta description={article.teaser} />\r\n              </Card>\r\n            </Col>\r\n          )\r\n        )}\r\n      </Row>\r\n      <Row>\r\n        <Col className=\"gutter-row\" xs={24} style={{ textAlign: 'center' }}>\r\n          {\r\n            articles.length > countArticles ? <Button onClick={onLoad} type=\"primary\">Загрузить ещё</Button> : null\r\n          }\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ArticlesList;","import React, { useState } from \"react\"\r\nimport LayoutMain from \"../components/layout\"\r\nimport SEO from \"../components/seo\"\r\nimport 'antd/dist/antd.css'\r\nimport ArticlesList from '../components/ArticlesList'\r\nimport { graphql } from 'gatsby'\r\nimport gql from 'graphql-tag'\r\nimport { useQuery } from '@apollo/react-hooks'\r\n\r\nconst getArticles = gql`\r\n  {\r\n    articles {\r\n      id\r\n      title\r\n      teaser\r\n      slug\r\n    }\r\n  }\r\n`\r\n\r\nexport const articles = graphql`\r\n  {\r\n    news {\r\n      articles {\r\n        id\r\n        title\r\n        teaser\r\n        slug\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nconst IndexPage = (props) => {\r\n  const { news: { articles } } = props.data\r\n  const [articlesList, setArticles] = useState(articles)\r\n  const { loading, error, data } = useQuery(getArticles)\r\n\r\n  if (loading) return <h1>Loading</h1>\r\n  if (error) return `Error: ${error.message}`\r\n\r\n  const newArticles = data.articles\r\n\r\n  if (articlesList.length !== newArticles.length) {\r\n    setArticles(newArticles)\r\n  }\r\n\r\n  return (\r\n    <LayoutMain>\r\n      <SEO title=\"Home\" />\r\n      <ArticlesList articles={articlesList} />\r\n    </LayoutMain>\r\n  )\r\n}\r\n\r\nexport default IndexPage\r\n"],"sourceRoot":""}