{"version":3,"sources":["webpack:///./src/components/ArticlesList.js","webpack:///./src/pages/index.js"],"names":["GET_ARTICLES","gql","ArticlesList","useState","countArticles","setCountArticles","Meta","Card","useSubscription","loading","error","data","message","gutter","articles","slice","map","article","className","xs","md","lg","xl","key","id","hoverable","cover","alt","src","to","slug","title","description","teaser","style","textAlign","length","onClick","type","IndexPage"],"mappings":"wcAMA,IAAMA,EAAeC,IAAH,KAiDHC,EAtCM,WAAO,IAAD,EACmBC,mBAAS,GAA7CC,EADiB,KACFC,EADE,KAEjBC,EAASC,IAATD,KAFiB,EAGQE,YAAgBR,GAAzCS,EAHiB,EAGjBA,QAASC,EAHQ,EAGRA,MAAOC,EAHC,EAGDA,KAExB,GAAIF,EAAS,MAAO,aACpB,GAAIC,EAAO,MAAM,UAAWA,EAAME,QAIlC,OACE,oCACE,kBAAC,IAAD,CAAKC,OAAQ,CAAC,GAAI,KACfF,EAAKG,SAASC,MAAM,EAAGX,GAAeY,KAAI,SAAAC,GAAO,OAE9C,kBAAC,IAAD,CAAKC,UAAU,aAAaC,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGC,IAAKN,EAAQO,IACrE,kBAAC,IAAD,CACIC,WAAS,EACTC,MAAO,yBAAKC,IAAI,UAAUC,IAAI,gEAEhC,kBAAC,OAAD,CAAMC,GAAE,IAAMZ,EAAQa,MAASb,EAAQc,OACvC,kBAACzB,EAAD,CAAM0B,YAAaf,EAAQgB,eAMrC,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKf,UAAU,aAAaC,GAAI,GAAIe,MAAO,CAAEC,UAAW,WAEpDxB,EAAKG,SAASsB,OAAShC,EAAgB,kBAAC,IAAD,CAAQiC,QAtB1C,kBAAMhC,EAAiBD,EAAgB,IAsBoBkC,KAAK,WAA9B,iBAAiE,SChCrGC,UATG,WAChB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKR,MAAM,SACX,kBAAC,EAAD,S","file":"component---src-pages-index-js-71ddda6c6938ca61066a.js","sourcesContent":["import React, { useState } from 'react'\r\nimport { useSubscription  } from \"@apollo/react-hooks\";\r\nimport gql from 'graphql-tag'\r\nimport { Card, Row, Col, Button } from 'antd'\r\nimport { Link } from \"gatsby\"\r\n\r\nconst GET_ARTICLES = gql`\r\n  subscription {\r\n    articles {\r\n      id\r\n      title\r\n      teaser\r\n      slug\r\n    }\r\n  }\r\n`;\r\n\r\nconst ArticlesList = () => {\r\n  const [ countArticles, setCountArticles ] = useState(8)\r\n  const { Meta } = Card;\r\n  const { loading, error, data } = useSubscription(GET_ARTICLES)\r\n\r\n  if (loading) return 'Loading...';\r\n  if (error) return `Error! ${error.message}`;\r\n  \r\n  const onLoad = () => setCountArticles(countArticles + 4)\r\n\r\n  return (\r\n    <>\r\n      <Row gutter={[16, 24]}>\r\n        {data.articles.slice(0, countArticles).map(article =>\r\n          (\r\n            <Col className=\"gutter-row\" xs={24} md={12} lg={8} xl={6} key={article.id}>\r\n              <Card\r\n                  hoverable\r\n                  cover={<img alt=\"example\" src=\"https://os.alipayobjects.com/rmsportal/QBnOOoLaAfKPirc.png\" />}\r\n              >\r\n                <Link to={`/${article.slug}`}>{article.title}</Link>\r\n                <Meta description={article.teaser} />\r\n              </Card>\r\n            </Col>\r\n          )\r\n        )}\r\n      </Row>\r\n      <Row>\r\n        <Col className=\"gutter-row\" xs={24} style={{ textAlign: 'center' }}>\r\n          {\r\n            data.articles.length > countArticles ? <Button onClick={onLoad} type=\"primary\">Загрузить ещё</Button> : null\r\n          }\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ArticlesList;\r\nexport { GET_ARTICLES };","import React from \"react\"\r\nimport LayoutMain from \"../components/layout\"\r\nimport SEO from \"../components/seo\"\r\nimport 'antd/dist/antd.css'\r\nimport ArticlesList from '../components/ArticlesList'\r\n\r\nconst IndexPage = () => {\r\n  return (\r\n    <LayoutMain>\r\n      <SEO title=\"Home\" />\r\n      <ArticlesList />\r\n    </LayoutMain>\r\n  )\r\n}\r\n\r\nexport default IndexPage\r\n"],"sourceRoot":""}